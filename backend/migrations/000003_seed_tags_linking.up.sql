-- ========================================
-- SEED: Linking Resources with Tags
-- Это КРИТИЧЕСКИ ВАЖНО для Content-Based фильтрации!
-- ========================================

-- Связываем ресурсы с тегами (для Content-Based)
-- Каждый ресурс должен иметь теги, соответствующие его содержанию

-- Модуль 1: Введение в алгебру (resource_id 1-3)
INSERT INTO
    resource_tags (resource_id, tag_id, weight)
VALUES
    -- "Что такое алгебра?" (reading)
    (1, 1, 1.0), -- mathematics
    (1, 9, 0.9), -- algebra
    (1, 17, 1.0), -- beginner

-- "Основные термины" (reading)
(2, 1, 1.0), -- mathematics
(2, 9, 0.9), -- algebra
(2, 17, 1.0), -- beginner

-- "Тест: Основы алгебры" (quiz)
(3, 1, 1.0), -- mathematics
(3, 9, 1.0), -- algebra
(3, 17, 0.8);
-- beginner

-- Модуль 2: Линейные уравнения (resource_id 4-7)
INSERT INTO
    resource_tags (resource_id, tag_id, weight)
VALUES
    -- "Понятие линейного уравнения"
    (4, 1, 1.0), -- mathematics
    (4, 9, 1.0), -- algebra
    (4, 18, 1.0), -- intermediate
    (4, 12, 0.8), -- problem_solving

-- "Видео: Как решать линейные уравнения"
(5, 1, 1.0), -- mathematics
(5, 9, 1.0), -- algebra
(5, 18, 1.0), -- intermediate

-- "Упражнение: Решите уравнения"
(6, 1, 1.0), -- mathematics
(6, 9, 1.0), -- algebra
(6, 12, 1.0), -- problem_solving
(6, 18, 1.0), -- intermediate

-- "Тест: Линейные уравнения"
(7, 1, 1.0), -- mathematics
(7, 9, 1.0), -- algebra
(7, 18, 0.9);
-- intermediate

-- Модуль 3: Системы уравнений (resource_id 8-10)
INSERT INTO
    resource_tags (resource_id, tag_id, weight)
VALUES (8, 1, 1.0), -- mathematics
    (8, 9, 1.0), -- algebra
    (8, 19, 1.0), -- advanced
    (8, 12, 0.9), -- problem_solving
    (9, 1, 1.0), -- mathematics
    (9, 9, 1.0), -- algebra
    (9, 19, 1.0), -- advanced
    (10, 1, 1.0), -- mathematics
    (10, 9, 1.0), -- algebra
    (10, 19, 1.0), -- advanced
    (10, 12, 1.0);
-- problem_solving

-- Модуль 5: Точки и прямые - Геометрия (resource_id 11-13)
INSERT INTO
    resource_tags (resource_id, tag_id, weight)
VALUES (11, 1, 1.0), -- mathematics
    (11, 10, 1.0), -- geometry
    (11, 17, 1.0), -- beginner
    (12, 1, 1.0), -- mathematics
    (12, 10, 1.0), -- geometry
    (12, 17, 1.0), -- beginner
    (13, 1, 1.0), -- mathematics
    (13, 10, 1.0), -- geometry
    (13, 17, 0.8);
-- beginner

-- Модуль 9: Критическое мышление (resource_id 14-16)
INSERT INTO
    resource_tags (resource_id, tag_id, weight)
VALUES (14, 11, 1.0), -- critical_thinking
    (14, 15, 1.0), -- logic
    (14, 16, 0.9), -- analysis
    (14, 18, 1.0), -- intermediate
    (15, 11, 1.0), -- critical_thinking
    (15, 15, 1.0), -- logic
    (15, 18, 1.0), -- intermediate
    (16, 11, 1.0), -- critical_thinking
    (16, 12, 1.0), -- problem_solving
    (16, 18, 0.9);
-- intermediate

-- Модуль 10: Анализ информации (resource_id 17-19)
INSERT INTO
    resource_tags (resource_id, tag_id, weight)
VALUES (17, 11, 1.0), -- critical_thinking
    (17, 16, 1.0), -- analysis
    (17, 18, 1.0), -- intermediate
    (18, 11, 1.0), -- critical_thinking
    (18, 16, 1.0), -- analysis
    (18, 19, 0.8), -- advanced
    (19, 11, 1.0), -- critical_thinking
    (19, 16, 1.0), -- analysis
    (19, 18, 0.9);
-- intermediate

-- Модуль 14: Кинематика - Физика (resource_id 20-22)
INSERT INTO
    resource_tags (resource_id, tag_id, weight)
VALUES (20, 5, 1.0), -- physics
    (20, 12, 0.9), -- problem_solving
    (20, 18, 1.0), -- intermediate
    (21, 5, 1.0), -- physics
    (21, 12, 0.9), -- problem_solving
    (21, 18, 1.0), -- intermediate
    (22, 5, 1.0), -- physics
    (22, 12, 1.0), -- problem_solving
    (22, 19, 0.8);
-- advanced

-- ========================================
-- Добавим больше ресурсов для литературы
-- ========================================

-- Найдем модули для литературы (курсы 8, 9)
INSERT INTO
    modules (
        course_id,
        title,
        description,
        order_index
    )
VALUES (
        8,
        'Основы анализа текста',
        'Как читать между строк',
        1
    ),
    (
        8,
        'Литературные приемы',
        'Метафоры, эпитеты, аллегории',
        2
    ),
    (
        9,
        'Пушкин и его эпоха',
        'Золотой век русской литературы',
        1
    ),
    (
        9,
        'Толстой и Достоевский',
        'Великие романы',
        2
    );

-- Ресурсы для литературы (starting from id 23)
INSERT INTO
    resources (
        module_id,
        title,
        content,
        resource_type,
        difficulty,
        estimated_time
    )
VALUES (
        17,
        'Как анализировать стихотворение',
        'Основные шаги анализа',
        'reading',
        2,
        12
    ),
    (
        17,
        'Видео: Разбор стихотворения',
        'Практический пример',
        'video',
        2,
        15
    ),
    (
        17,
        'Упражнение: Анализ текста',
        'Попробуйте сами',
        'exercise',
        3,
        20
    ),
    (
        18,
        'Литературные приемы',
        'Метафора, эпитет, гипербола',
        'reading',
        2,
        10
    ),
    (
        18,
        'Тест: Найдите прием',
        'Определите литературные приемы',
        'quiz',
        2,
        8
    ),
    (
        19,
        'Биография Пушкина',
        'Жизнь и творчество',
        'reading',
        2,
        15
    ),
    (
        19,
        'Анализ "Евгения Онегина"',
        'Роман в стихах',
        'reading',
        4,
        25
    ),
    (
        20,
        'Философия Достоевского',
        'Преступление и наказание',
        'reading',
        4,
        30
    ),
    (
        20,
        'Тест: Русская классика',
        'Проверьте знания',
        'quiz',
        3,
        10
    );

-- Теги для новых литературных ресурсов
INSERT INTO
    resource_tags (resource_id, tag_id, weight)
VALUES
    -- Ресурсы 23-25: Анализ текста
    (23, 3, 1.0), -- literature
    (23, 13, 1.0), -- reading_comprehension
    (23, 16, 0.9), -- analysis
    (23, 17, 1.0), -- beginner
    (24, 3, 1.0), -- literature
    (24, 13, 1.0), -- reading_comprehension
    (24, 17, 1.0), -- beginner
    (25, 3, 1.0), -- literature
    (25, 16, 1.0), -- analysis
    (25, 18, 1.0), -- intermediate

-- Ресурсы 26-27: Литературные приемы
(26, 3, 1.0), -- literature
(26, 13, 0.9), -- reading_comprehension
(26, 17, 1.0), -- beginner
(27, 3, 1.0), -- literature
(27, 13, 1.0), -- reading_comprehension
(27, 17, 0.8), -- beginner

-- Ресурсы 28-29: Пушкин
(28, 3, 1.0), -- literature
(28, 4, 0.8), -- history
(28, 17, 1.0), -- beginner
(29, 3, 1.0), -- literature
(29, 16, 1.0), -- analysis
(29, 19, 1.0), -- advanced

-- Ресурсы 30-31: Толстой/Достоевский
(30, 3, 1.0), -- literature
(30, 16, 1.0), -- analysis
(30, 19, 1.0), -- advanced
(31, 3, 1.0), -- literature
(31, 13, 1.0), -- reading_comprehension
(31, 18, 1.0);
-- intermediate

-- ========================================
-- Добавим ресурсы по другим предметам
-- ========================================

-- История (курсы 10, 11)
INSERT INTO
    modules (
        course_id,
        title,
        description,
        order_index
    )
VALUES (
        10,
        'Древний Казахстан',
        'Саки, гунны, тюрки',
        1
    ),
    (
        10,
        'Казахское ханство',
        'Становление государства',
        2
    ),
    (
        11,
        'Древний мир',
        'Египет, Греция, Рим',
        1
    ),
    (
        11,
        'Средние века',
        'Феодализм и крестовые походы',
        2
    );

INSERT INTO
    resources (
        module_id,
        title,
        content,
        resource_type,
        difficulty,
        estimated_time
    )
VALUES
    -- История Казахстана
    (
        21,
        'Саки - древние воины',
        'Кочевники степей',
        'reading',
        2,
        10
    ),
    (
        21,
        'Видео: Золотой человек',
        'Археологические находки',
        'video',
        2,
        12
    ),
    (
        21,
        'Тест: Древний Казахстан',
        'Проверка знаний',
        'quiz',
        2,
        8
    ),
    (
        22,
        'Образование Казахского ханства',
        '1465-1468 годы',
        'reading',
        3,
        15
    ),
    (
        22,
        'Хан Керей и Жанибек',
        'Основатели ханства',
        'reading',
        3,
        12
    ),

-- Всемирная история
(
    23,
    'Древний Египет',
    'Фараоны и пирамиды',
    'reading',
    2,
    15
),
(
    23,
    'Видео: Тайны пирамид',
    'Документальный фильм',
    'video',
    2,
    20
),
(
    23,
    'Тест: Древний мир',
    'Египет, Греция, Рим',
    'quiz',
    2,
    10
),
(
    24,
    'Средневековая Европа',
    'Рыцари и замки',
    'reading',
    3,
    18
),
(
    24,
    'Крестовые походы',
    'Столкновение цивилизаций',
    'reading',
    4,
    20
);

-- Теги для истории
INSERT INTO
    resource_tags (resource_id, tag_id, weight)
VALUES
    -- История Казахстана (32-36)
    (32, 4, 1.0), -- history
    (32, 17, 1.0), -- beginner
    (33, 4, 1.0),
    (33, 17, 1.0),
    (34, 4, 1.0),
    (34, 17, 0.8),
    (35, 4, 1.0),
    (35, 18, 1.0),
    (36, 4, 1.0),
    (36, 18, 1.0),

-- Всемирная история (37-41)
(37, 4, 1.0),
(37, 17, 1.0),
(38, 4, 1.0),
(38, 17, 1.0),
(39, 4, 1.0),
(39, 17, 0.8),
(40, 4, 1.0),
(40, 18, 1.0),
(41, 4, 1.0),
(41, 19, 1.0);

-- Химия и Биология
INSERT INTO
    modules (
        course_id,
        title,
        description,
        order_index
    )
VALUES (
        12,
        'Атомы и молекулы',
        'Строение вещества',
        1
    ),
    (
        12,
        'Химические реакции',
        'Типы реакций',
        2
    ),
    (
        13,
        'Клетка - основа жизни',
        'Строение клетки',
        1
    ),
    (
        13,
        'Растения и животные',
        'Разнообразие жизни',
        2
    );

INSERT INTO
    resources (
        module_id,
        title,
        content,
        resource_type,
        difficulty,
        estimated_time
    )
VALUES
    -- Химия
    (
        25,
        'Строение атома',
        'Протоны, нейтроны, электроны',
        'reading',
        3,
        15
    ),
    (
        25,
        'Видео: Таблица Менделеева',
        'Периодическая система',
        'video',
        3,
        12
    ),
    (
        25,
        'Упражнение: Химические формулы',
        'Составьте формулы',
        'exercise',
        3,
        20
    ),
    (
        26,
        'Типы химических реакций',
        'Соединение, разложение',
        'reading',
        4,
        18
    ),
    (
        26,
        'Тест: Химия',
        'Проверка знаний',
        'quiz',
        3,
        10
    ),

-- Биология
(
    27,
    'Что такое клетка?',
    'Основная единица жизни',
    'reading',
    2,
    10
),
(
    27,
    'Видео: Путешествие в клетку',
    'Микромир',
    'video',
    2,
    15
),
(
    27,
    'Тест: Строение клетки',
    'Органеллы и их функции',
    'quiz',
    2,
    8
),
(
    28,
    'Царство растений',
    'Фотосинтез и рост',
    'reading',
    2,
    12
),
(
    28,
    'Царство животных',
    'Разнообразие фауны',
    'reading',
    2,
    12
);

-- Теги для химии и биологии
INSERT INTO
    resource_tags (resource_id, tag_id, weight)
VALUES
    -- Химия (42-46)
    (42, 6, 1.0), -- chemistry
    (42, 2, 0.8), -- science
    (42, 18, 1.0),
    (43, 6, 1.0),
    (43, 18, 1.0),
    (44, 6, 1.0),
    (44, 12, 0.9),
    (44, 18, 1.0),
    (45, 6, 1.0),
    (45, 19, 1.0),
    (46, 6, 1.0),
    (46, 18, 0.9),

-- Биология (47-51)
(47, 7, 1.0), -- biology
(47, 2, 0.8), -- science
(47, 17, 1.0),
(48, 7, 1.0),
(48, 17, 1.0),
(49, 7, 1.0),
(49, 17, 0.8),
(50, 7, 1.0),
(50, 17, 1.0),
(51, 7, 1.0),
(51, 17, 1.0);

COMMIT;